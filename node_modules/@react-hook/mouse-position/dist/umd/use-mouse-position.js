!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e=e||self).useMousePosition=t(e.React)}(this,(function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:1,configurable:1,writable:1}):e[t]=n,e}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,u)}return n}function u(e){for(var u=1;arguments.length>u;u++){var r=null!=arguments[u]?arguments[u]:{};u%2?n(Object(r),1).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function r(e,t,n,u){function r(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];c.current.apply(this,t)}void 0===u&&(u=o);var c=l(n),i=l(u);a((function(){var n=e&&"current"in e?e.current:e;if(n){var u=r;n.addEventListener(t,u);var o=i.current;return function(){n.removeEventListener(t,u),o()}}}),[e,t])}function o(){}function c(t,n,u){function r(){i.current=0,a()}void 0===n&&(n=30),void 0===u&&(u=0);var o=l(t),c=1e3/n,i=e.useRef(0),s=e.useRef(),a=function(){return s.current&&clearTimeout(s.current)},f=[n,u,o];return e.useEffect((function(){return r}),f),e.useCallback((function(){var e=arguments,t=v(),n=function(){i.current=t,a(),o.current.apply(null,e)},r=i.current;if(u&&0===r)return n();if(t-r>c){if(r>0)return n();i.current=t}a(),s.current=setTimeout((function(){n(),i.current=0}),c)}),f)}function i(e,t){var n=t.event,r=t.element,o="touches"in n?n.touches[0]:n,c=o.clientX,i=o.clientY,s=o.screenX,a=o.screenY,l=o.pageX,f=void 0===l?0:l,v=o.pageY,p=void 0===v?0:v,m=r.getBoundingClientRect(),d=f-m.left-(window.pageXOffset||window.scrollX),h=p-m.top-(window.pageYOffset||window.scrollY);return"touches"in n&&(0>d||0>h||d>m.width||h>m.height)?u(u({},e),{},{context:u(u({},e.context),{},{hoverStatus:"leave",touchStatus:"end"})}):{context:u(u({},e.context),{},{hoverStatus:"enter"}),mouse:u(u({},e.mouse),{},{x:d,y:h,pageX:f,pageY:p,clientX:c,clientY:i,screenX:s,screenY:a,elementWidth:m.width,elementHeight:m.height,isOver:1,isTouch:"touches"in n})}}function s(e,t){var n=e.mouse,r=e.context,o=i;return"mousemove"===t.type?"end"===r.touchStatus?e:o(e,t):"touchmove"===t.type?o({context:u(u({},r),{},{touchStatus:"start"}),mouse:n},t):"touchdown"===t.type?o({context:u(u({},r),{},{touchStatus:"start"}),mouse:u(u({},n),{},{isDown:1})},t):"mousedown"===t.type?{context:r,mouse:u(u({},n),{},{isDown:1})}:"mouseup"===t.type?{context:r,mouse:u(u({},n),{},{isDown:0})}:"mouseleave"===t.type?{context:u(u({},r),{},{hoverStatus:"leave"}),mouse:u(u({},n),{},{isOver:0})}:"touchleave"===t.type?{context:u(u({},r),{},{hoverStatus:"leave",touchStatus:"end"}),mouse:u(u({},n),{},{isOver:0,isDown:0})}:"activeStatus"===t.type?{context:u(u({},r),{},{activeStatus:t.value}),mouse:n}:e}var a=e["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"],l=function(t){var n=e.useRef(t);return n.current=t,n},f="undefined"!=typeof performance?performance:Date,v=function(){return f.now()},p={x:null,y:null,pageX:null,pageY:null,clientX:null,clientY:null,screenX:null,screenY:null,elementWidth:null,elementHeight:null,isOver:0,isDown:0,isTouch:0},m={hoverStatus:"idle",touchStatus:"idle",activeStatus:"inactive"};return function(t,n){function u(){return O({type:"activeStatus",value:"active"})}function o(){return O({type:"activeStatus",value:"inactive"})}void 0===n&&(n={});var i=n,a=i.fps,l=void 0===a?30:a,f=i.enterDelay,v=void 0===f?0:f,d=i.leaveDelay,h=void 0===d?0:d,y=e.useReducer(s,{mouse:p,context:m}),w=y[0],O=y[1],g=c((function(e){var n=t&&"current"in t?t.current:t;n&&O({type:"mousemove",event:e,element:n})}),l,1),S=c((function(e){var n=t&&"current"in t?t.current:t;n&&O({type:"touchmove",event:e,element:n})}),l,1),b=c((function(){return O({type:"mouseleave"})}),l,0),x=c((function(e){var n=t&&"current"in t?t.current:t;n&&O("touches"in e?{type:"touchdown",element:n,event:e}:{type:"mousedown",element:n,event:e})}),l,1),j=c((function(){return O({type:"mouseup"})}),l,0),D=c((function(){return O({type:"touchleave"})}),l,0);return r(t,"mouseenter",g),r(t,"mousemove",g),r(t,"mouseleave",b),r(t,"mousedown",x),r(window,"mousedown",x),r(window,"mouseup",j),r(t,"touchstart",x),r(t,"touchmove",S),r(t,"touchend",D),r(t,"touchcancel",D),e.useEffect((function(){if("enter"===w.context.hoverStatus){if(v){var e=setTimeout(u,v);return function(){return clearTimeout(e)}}O({type:"activeStatus",value:"active"})}else{if(h){var t=setTimeout(o,h);return function(){return clearTimeout(t)}}O({type:"activeStatus",value:"inactive"})}}),[w.context.hoverStatus,v,h]),"active"===w.context.activeStatus?w.mouse:p}}));
//# sourceMappingURL=use-mouse-position.js.map
